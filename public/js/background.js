function ExplodeAnimation(a,b){var c=new THREE.Geometry;for(i=0;i<numParticles;i++){var d=new THREE.Vector3;d.x=a,d.y=b,d.z=0,c.vertices.push(d),directions.push({x:Math.random()*movementSpeed-movementSpeed/2,y:Math.random()*movementSpeed-movementSpeed/2,z:Math.random()*movementSpeed-movementSpeed/2})}var e=new THREE.PointCloudMaterial({size:particleSize,color:16777215,map:THREE.ImageUtils.loadTexture("/img/particle.png"),blending:THREE.AdditiveBlending,transparent:!0}),f=new THREE.PointCloud(c,e);f.sortParticles=!0,this.object=f,this.status=!0,this.xDir=Math.random()*movementSpeed-movementSpeed/2,this.yDir=Math.random()*movementSpeed-movementSpeed/2,this.zDir=Math.random()*movementSpeed-movementSpeed/2,scene.add(this.object),this.update=function(){if(1==this.status){for(var a=numParticles;a--;){var b=this.object.geometry.vertices[a];b.y+=directions[a].y,b.x+=directions[a].x,b.z+=directions[a].z}this.object.geometry.verticesNeedUpdate=!0}}}function renderBang(){for(var a=parts.length;a--;)parts[a].update();renderer.render(scene,camera),requestAnimFrame(renderBang)}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var WIDTH=window.innerWidth,HEIGHT=window.innerHeight,VIEW_ANGLE=75,ASPECT=WIDTH/HEIGHT,NEAR=1,FAR=1e4,renderer=new THREE.WebGLRenderer,camera=new THREE.PerspectiveCamera(VIEW_ANGLE,ASPECT,NEAR,FAR),scene=new THREE.Scene;camera.position.z=1e3;var container=document.createElement("div");document.body.appendChild(container),renderer.setSize(WIDTH,HEIGHT),container.appendChild(renderer.domElement);var numParticles=3e3,particleSize=50,movementSpeed=80,sizeRandomness=4e3,directions=[],parts=[];parts.push(new ExplodeAnimation(0,0));