function getDaysInMonth(a){clearDays();var b,c,d=42,e=(new Date).getFullYear(),f=new Date(e,a-1,1).getDay(),g=numDaysInMonth(a,e);b=1==a?12:a-1,c=numDaysInMonth(b,e);for(var h=0;d+1>h;h++)if(f+1>h){var i=c-h;$("div#day-wrapper > div:nth-child("+(f-h)+")").append(document.createTextNode(i)),$("div#day-wrapper > div:nth-child("+(f-h)+")").addClass("non-cur-month")}else if(h>f+g){var j=h-(g+f);$("div#day-wrapper > div:nth-child("+h+")").append(document.createTextNode(j)),$("div#day-wrapper > div:nth-child("+h+")").addClass("non-cur-month")}else{var k=h-f;$("div#day-wrapper > div:nth-child("+h+")").append(document.createTextNode(k))}}function numDaysInMonth(a,b){return new Date(b,a,0).getDate()}function getDayString(a,b){var c=new Date;c.setMonth(a),c.setDate(b),day=c.getDay();var d=days[day];return d}function clearDays(){$("div#day-wrapper > div").contents().filter(function(){return 3==this.nodeType}).remove()}function clearEvents(){$("#info").empty()}function getEvents(a,b){clearEvents();var c,d=months[b-1]+a,e={};$.getJSON("./data/cosmicInfo.json",function(a){for(key in a)a[key].date===d&&(e=a[key]);if(void 0!==e.events){c=e.events.length;for(var b=0;c>b;b++)$("#info").append("<li><h5>"+e.events[b].time+"</h5><div>"+e.events[b].info+"</div></h5>")}})}function numYearsAgo(a,b){for(var c,d=13.8,e=365,f=d/e,g=(new Date).getFullYear(),h=b-1,i=0,j=parseInt(a);0!=h;){var k=numDaysInMonth(h,g);i+=k,h--}return i+=j,c=12==b?Math.round(1e3*(d-i*f)*1e3)/1e3:Math.round(1e3*(d-i*f))/1e3}function displayNumYearsAgo(a,b){$("#time").text(12==b?a+" Million Years Ago":a+" Billion Years Ago")}function displayDate(a,b,c){var d=monthsFull[b];$("#date-wrapper h2:first-child").text(a),$("#date-wrapper h2:nth-child(2)").text(d+" "+c+nth(c))}function nth(a){if(a>3&&21>a)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsFull=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];$(function(){getDaysInMonth(1),$("#month-1").addClass("month-selected"),getEvents(1,1),displayNumYearsAgo(numYearsAgo(1,1)),displayDate(getDayString(0,1),0,1)}),$(".month").click(function(){$(".month").removeClass("month-selected"),$("div#day-wrapper > div").removeClass("non-cur-month"),$(this).addClass("month-selected");var a=$(this).attr("id").split("month-")[1];getDaysInMonth(a)}),$(".button").click(function(){renderBang(),$("#calendar").addClass("display-cal");var a=document.getElementById("main-title"),b=document.getElementById("enter");TweenLite.to([a,b],1,{z:200});var c=document.getElementById("calendar");TweenLite.from(c,1,{z:-2e3,opacity:0})}),$("#day-wrapper").click(function(a){var b=$(a.target).text(),c=$("#month-wrapper").find(".month-selected").attr("id").split("month-")[1];getEvents(b,c),displayNumYearsAgo(numYearsAgo(b,c),c),displayDate(getDayString(c-1,b),c-1,b)});